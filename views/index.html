<!DOCTYPE html>
<html>
<head>
  <link type="text/css" rel="stylesheet" href="css/home.css" />
  <script type="application/javascript" src="/js/jquery3.3.1.min.js"></script>
</head>
<body>
  <div id="toolbar">
    <button id="btn-refresh-preview" class="btn btn-default">Refresh Preview</button>
    <button id="btn-download" class="btn btn-default">Download Story</button>
    <!-- TODO: add a button here to kick off the dist build -->
    <!-- TODO: add a hide button here that hides the toolbar or puts it out of the way of the preview -->
  </div>

  <iframe id="preview" src="/preview"></iframe>

  <iframe class="editor" src="/editor"></iframe>

  <script type="application/javascript" src="/js/jquery3.3.1.min.js"></script>
  <script type="application/javascript">
    var $ = jQuery;
    $(function() {
        $('#btn-refresh-preview').on('click', function() {
            console.log("Refreshing Preview");
            $('#preview').attr( 'src', function ( i, val ) { return val; });
        });
        $('#btn-download').on('click', function() {
            window.open('/editor/download', '_blank');
        });

        // Preview Refresh Event Listener
        $(document).on('refresh-preview', function() {
            console.log("Refreshing Preview");
            $('#preview').attr( 'src', function ( i, val ) { return val; });
        });
    })
  </script>
</body>
</html>